{"ast":null,"code":"import _slicedToArray from\"/home/mb4718/Desktop/flaggle/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{ToastContainer,Flip}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import{Game}from\"./components/Game\";import React,{useEffect,useMemo,useState}from\"react\";import{Infos}from\"./components/panels/Infos\";import{useTranslation}from\"react-i18next\";import{InfosFr}from\"./components/panels/InfosFr\";import{Settings}from\"./components/panels/Settings\";import{useSettings}from\"./hooks/useSettings\";import{Flaggle}from\"./components/Flaggle\";import{Stats}from\"./components/panels/Stats\";import{useReactPWAInstall}from\"@teuteuf/react-pwa-install\";import{InstallButton}from\"./components/InstallButton\";import{Twemoji}from\"@teuteuf/react-emoji-render\";import{getDayString,useCountry}from\"./hooks/useCountry\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var supportLink={UA:\"https://donate.redcrossredcrescent.org/ua/donate/~my-donation?_cv=1\"};function App(){var _useTranslation=useTranslation(),t=_useTranslation.t,i18n=_useTranslation.i18n;var dayString=useMemo(getDayString,[]);var _useCountry=useCountry(dayString),_useCountry2=_slicedToArray(_useCountry,1),country=_useCountry2[0];var _useReactPWAInstall=useReactPWAInstall(),pwaInstall=_useReactPWAInstall.pwaInstall,supported=_useReactPWAInstall.supported,isInstalled=_useReactPWAInstall.isInstalled;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),infoOpen=_useState2[0],setInfoOpen=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),settingsOpen=_useState4[0],setSettingsOpen=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),statsOpen=_useState6[0],setStatsOpen=_useState6[1];var _useSettings=useSettings(),_useSettings2=_slicedToArray(_useSettings,2),settingsData=_useSettings2[0],updateSettings=_useSettings2[1];useEffect(function(){if(settingsData.theme===\"dark\"){document.documentElement.classList.add(\"dark\");}else{document.documentElement.classList.remove(\"dark\");}},[settingsData.theme]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ToastContainer,{hideProgressBar:true,position:\"top-center\",transition:Flip,theme:settingsData.theme,autoClose:2000,bodyClassName:\"font-bold text-center\"}),i18n.resolvedLanguage===\"fr\"?/*#__PURE__*/_jsx(InfosFr,{isOpen:infoOpen,close:function close(){return setInfoOpen(false);},settingsData:settingsData}):/*#__PURE__*/_jsx(Infos,{isOpen:infoOpen,close:function close(){return setInfoOpen(false);},settingsData:settingsData}),/*#__PURE__*/_jsx(Settings,{isOpen:settingsOpen,close:function close(){return setSettingsOpen(false);},settingsData:settingsData,updateSettings:updateSettings}),/*#__PURE__*/_jsx(Stats,{isOpen:statsOpen,close:function close(){return setStatsOpen(false);},distanceUnit:settingsData.distanceUnit}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center flex-auto dark:bg-slate-900 dark:text-slate-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-lg flex flex-col\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"border-b-2 px-3 border-gray-200 flex\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"mr-3 text-xl\",type:\"button\",onClick:function onClick(){return setInfoOpen(true);},children:/*#__PURE__*/_jsx(Twemoji,{text:\"\\u2753\"})}),supported()&&!isInstalled()&&/*#__PURE__*/_jsx(InstallButton,{pwaInstall:pwaInstall}),/*#__PURE__*/_jsxs(\"h1\",{className:\"text-4xl font-bold uppercase tracking-wide text-center my-1 flex-auto\",children:[\"Flagg\",/*#__PURE__*/_jsx(\"span\",{className:\"text-green-600\",children:\"le\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"ml-3 text-xl\",type:\"button\",onClick:function onClick(){return setStatsOpen(true);},children:/*#__PURE__*/_jsx(Twemoji,{text:\"\\uD83D\\uDCC8\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"ml-3 text-xl\",type:\"button\",onClick:function onClick(){return setSettingsOpen(true);},children:/*#__PURE__*/_jsx(Twemoji,{text:\"\\u2699\\uFE0F\"})})]}),/*#__PURE__*/_jsx(Game,{settingsData:settingsData}),/*#__PURE__*/_jsxs(\"footer\",{className:\"flex justify-center items-center text-sm mt-8 mb-1\",children:[/*#__PURE__*/_jsx(Twemoji,{text:\"\\u2764\\uFE0F\",className:\"flex items-center justify-center mr-1\"}),\" \",/*#__PURE__*/_jsx(Flaggle,{}),\"? -\",supportLink[country.code]!=null?/*#__PURE__*/_jsx(\"a\",{className:\"underline pl-1\",href:supportLink[country.code],target:\"_blank\",rel:\"noopener noreferrer\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-max\",children:t(\"support.\".concat(country.code))})}):/*#__PURE__*/_jsx(\"a\",{className:\"underline pl-1\",href:\"https://monzo.me/matthewbradley/1.00?d=Thanks%20for%20being%20such%20a%20great%20guy\",target:\"_blank\",rel:\"noopener noreferrer\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-max\",children:/*#__PURE__*/_jsx(Twemoji,{text:\"Monzo me a quid\",options:{className:\"inline-block\"}})})})]})]})})]});}export default App;","map":{"version":3,"sources":["/home/mb4718/Desktop/flaggle/src/App.tsx"],"names":["ToastContainer","Flip","Game","React","useEffect","useMemo","useState","Infos","useTranslation","InfosFr","Settings","useSettings","Flaggle","Stats","useReactPWAInstall","InstallButton","Twemoji","getDayString","useCountry","supportLink","UA","App","t","i18n","dayString","country","pwaInstall","supported","isInstalled","infoOpen","setInfoOpen","settingsOpen","setSettingsOpen","statsOpen","setStatsOpen","settingsData","updateSettings","theme","document","documentElement","classList","add","remove","resolvedLanguage","distanceUnit","code","className"],"mappings":"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","sourcesContent":["import { ToastContainer, Flip } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { Game } from \"./components/Game\";\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { Infos } from \"./components/panels/Infos\";\nimport { useTranslation } from \"react-i18next\";\nimport { InfosFr } from \"./components/panels/InfosFr\";\nimport { Settings } from \"./components/panels/Settings\";\nimport { useSettings } from \"./hooks/useSettings\";\nimport { Flaggle } from \"./components/Flaggle\";\nimport { Stats } from \"./components/panels/Stats\";\nimport { useReactPWAInstall } from \"@teuteuf/react-pwa-install\";\nimport { InstallButton } from \"./components/InstallButton\";\nimport { Twemoji } from \"@teuteuf/react-emoji-render\";\nimport { getDayString, useCountry } from \"./hooks/useCountry\";\n\nconst supportLink: Record<string, string> = {\n  UA: \"https://donate.redcrossredcrescent.org/ua/donate/~my-donation?_cv=1\",\n};\n\nfunction App() {\n  const { t, i18n } = useTranslation();\n\n  const dayString = useMemo(getDayString, []);\n  const [country] = useCountry(dayString);\n\n  const { pwaInstall, supported, isInstalled } = useReactPWAInstall();\n\n  const [infoOpen, setInfoOpen] = useState(false);\n  const [settingsOpen, setSettingsOpen] = useState(false);\n  const [statsOpen, setStatsOpen] = useState(false);\n\n  const [settingsData, updateSettings] = useSettings();\n\n  useEffect(() => {\n    if (settingsData.theme === \"dark\") {\n      document.documentElement.classList.add(\"dark\");\n    } else {\n      document.documentElement.classList.remove(\"dark\");\n    }\n  }, [settingsData.theme]);\n\n  return (\n    <>\n      <ToastContainer\n        hideProgressBar\n        position=\"top-center\"\n        transition={Flip}\n        theme={settingsData.theme}\n        autoClose={2000}\n        bodyClassName=\"font-bold text-center\"\n      />\n      {i18n.resolvedLanguage === \"fr\" ? (\n        <InfosFr\n          isOpen={infoOpen}\n          close={() => setInfoOpen(false)}\n          settingsData={settingsData}\n        />\n      ) : (\n        <Infos\n          isOpen={infoOpen}\n          close={() => setInfoOpen(false)}\n          settingsData={settingsData}\n        />\n      )}\n      <Settings\n        isOpen={settingsOpen}\n        close={() => setSettingsOpen(false)}\n        settingsData={settingsData}\n        updateSettings={updateSettings}\n      />\n      <Stats\n        isOpen={statsOpen}\n        close={() => setStatsOpen(false)}\n        distanceUnit={settingsData.distanceUnit}\n      />\n      <div className=\"flex justify-center flex-auto dark:bg-slate-900 dark:text-slate-50\">\n        <div className=\"w-full max-w-lg flex flex-col\">\n          <header className=\"border-b-2 px-3 border-gray-200 flex\">\n            <button\n              className=\"mr-3 text-xl\"\n              type=\"button\"\n              onClick={() => setInfoOpen(true)}\n            >\n              <Twemoji text=\"❓\" />\n            </button>\n            {supported() && !isInstalled() && (\n              <InstallButton pwaInstall={pwaInstall} />\n            )}\n            <h1 className=\"text-4xl font-bold uppercase tracking-wide text-center my-1 flex-auto\">\n              Flagg<span className=\"text-green-600\">le</span>\n            </h1>\n            <button\n              className=\"ml-3 text-xl\"\n              type=\"button\"\n              onClick={() => setStatsOpen(true)}\n            >\n              <Twemoji text=\"📈\" />\n            </button>\n            <button\n              className=\"ml-3 text-xl\"\n              type=\"button\"\n              onClick={() => setSettingsOpen(true)}\n            >\n              <Twemoji text=\"⚙️\" />\n            </button>\n          </header>\n          <Game settingsData={settingsData} />\n          <footer className=\"flex justify-center items-center text-sm mt-8 mb-1\">\n            <Twemoji\n              text=\"❤️\"\n              className=\"flex items-center justify-center mr-1\"\n            />{\" \"}\n            <Flaggle />? -\n            {supportLink[country.code] != null ? (\n              <a\n                className=\"underline pl-1\"\n                href={supportLink[country.code]}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                <div className=\"w-max\">{t(`support.${country.code}`)}</div>\n              </a>\n            ) : (\n              <a\n                className=\"underline pl-1\"\n                href=\"https://monzo.me/matthewbradley/1.00?d=Thanks%20for%20being%20such%20a%20great%20guy\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                <div className=\"w-max\">\n                  <Twemoji\n                    text={\"Monzo me a quid\"}\n                    options={{ className: \"inline-block\" }}\n                  />\n                </div>\n              </a>\n            )}\n          </footer>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}